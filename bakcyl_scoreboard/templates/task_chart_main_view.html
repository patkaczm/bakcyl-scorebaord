<div class="row justify-content-center">
    <div class="col">
        <div class="row justify-content-center">
            <canvas class="mt-4" id="userPoints" width="250" height="100"></canvas>
            <canvas class="mt-4" id="userTasks" width="250" height="100"></canvas>
        </div>
    </div>
</div>

<script type="text/javascript">
    var endpoint = 'task/all/data';
    var data = [];
    $.ajax({
            method:"GET",
            url: endpoint,
            success: function(data) {
                var coloR = [];
                var dynamicColors = function() {
                    var r = Math.floor(Math.random() * 255);
                    var g = Math.floor(Math.random() * 255);
                    var b = Math.floor(Math.random() * 255);
                    return "rgb(" + r + "," + g + "," + b + ")";
                };

                for (var i in data.students) {
                    coloR.push(dynamicColors());
                }
                console.log(data)
  
                var ctx = document.getElementById("userPoints")
                var myBarChart = new Chart(ctx, {
                    type: 'horizontalBar',
                    data: {
                    labels: data.students,
                    datasets: [
                        {
                        label: "Points",
                        backgroundColor: coloR,
                        data: data.points,
                        }
                    ]
                    },
                    options: {
                    legend: { display: false },
                    title: {
                        display: true,
                        responsive: false,
                        text: 'Students score'
                    }
                    }
                });
                var ctx1 = document.getElementById("userTasks")
                var myBarChart = new Chart(ctx1, {
                    type: 'horizontalBar',
                    data: {
                    labels: data.students,
                    datasets: [
                        {
                        label: "tasks done",
                        backgroundColor: coloR,
                        data: data.tasksDone,
                        }
                    ]
                    },
                    options: {
                    legend: { display: false },
                    title: {
                        display: true,
                        responsive: false,
                        text: 'Students done tasks'
                    }
                    }
                });
            },
            error: function(error_data) {
                console.log(error_data)
            }
    })
    </script>